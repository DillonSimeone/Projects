<!DOCTYPE html>
<html lang="en">
<head>
	<title>Amazing Title</title>
	<link href="./style.css" rel="stylesheet">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Anton|Bitter|M+PLUS+Rounded+1c|Roboto+Mono" rel="stylesheet">
</head> 
	<body onresize="redraw();">
        <header>
            <h1 id="name">Dillon Simeone</h1>
            <p>
                A Web and Mobile Computing junior with a focus on the programming side of everything.
            </p>
        </header>
        <div id="rightUpperCorner" class="nav">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
        </div>
        
        <div id="leftLowerCorner" class="nav">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="pattern1" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                        <image height="1" width="1" preserveAspectRatio="none" xlink:href="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Gl%C3%BChwendel_brennt_durch.jpg/399px-Gl%C3%BChwendel_brennt_durch.jpg" />
                    </pattern>
                </defs>
                <polygon style="stroke: #999DA3;" fill="url(#pattern1)" points="50 1 95 25 95 75 50 99 5 75 5 25"/>
            </svg>
        </div>
        <div class = "items">
            <div class = "item">
                <h1><a href="">Projects</a></h1>
                <blockquote>
                    A collection of deployable projects.
                </blockquote>
                
            </div>
            <!--
            <div class = "item">
                <h1><a href="./MiniProjects/index.html">MiniProjects</a></h1>
                <blockquote>
                    A collection of my code doodles and ideas.
                </blockquote>
            </div>
            <div class = "item">
                <h1><a href="">About Me</a></h1>
                <blockquote>
                    Random Dillon facts.
                </blockquote>
            </div>
            <div class = "item">
                <h1><a href="">Courseworks</a></h1>
                <blockquote>
                    A collection of my old courseworks. Not recommanded to look through this junk pile.
                </blockquote>
            </div>
            -->
        </div>
        <div class="trianglify">
            <div class="circle"></div>
        </div>
        <script src="trianglify.min.js"></script>
        <script>
            //Dang mobiles resizing website pages when moving up!
            document.addEventListener("touchmove", function(e) { e.preventDefault() });
            window.scrollTo(0,1); // Hides URL bar
            
            //This makes it so nothing happens until user is done resizing.
            let resize;
            function redraw(){
                clearTimeout(resize);
                resize = setTimeout(
                    function(){
                        draw();
                    }, 500
                );
            };
            
            function draw(){
                let container = document.querySelector('.trianglify');
                let cells = Math.ceil(window.innerHeight/7);
                
                
                let pattern = Trianglify({
                  width: window.innerWidth,
                  height: window.innerHeight,
                  cell_size: cells,
                  variance: 1,
                  stroke_width: 0.5
                }).svg(); // Render as SVG.
                
                let circleElement = document.createElement("div");
                circleElement.className = "circle";
                
                //Clears out old stuff.
                container.innerHTML = "";
                container.insertBefore(pattern, container.firstChild);
                container.appendChild(circleElement);
                //For mouse movement events. This is more efficient instead of having this ran on each mouse movement.
                let circleHover = document.querySelector('.circle');
                
                
                let polyArray = [].slice.call(pattern.children);
                
                // Get polygon coords and hide them.
                let polyPoints = polyArray.map(function(poly) {
                  poly.classList.add('poly', 'fade');
                  let rect = poly.getBoundingClientRect();
                  let point = {
                    x: rect.left + rect.width / 2,
                    y: rect.top + rect.height / 2
                  };
                  return point;
                });
                
                randomizeFillColor(polyPoints, polyArray);
                ItemColors(150, 0.9);
                
                //This below, is JavaScript witchery at its finest! Put simply, what I did was to store a reference to the anonymous event listener (document.fn) created below in the document, so I can destroy the anonymous event listener once it's outdated, and start up a new event listener that will work with the current values after a resize. If I didn't do this...Amount of eventListeners going off on mousemove = (times resized browser).
                document.removeEventListener('mousemove', document.fn);
                
                document.addEventListener('mousemove', document.fn=function fn(e){
                    console.log("Test");
                    var radius = circleHover.clientWidth / 2;
                    var center = {
                        x: e.clientX,
                        y: e.clientY
                    };
                    
                    var circleCenter = {
                        x: center.x - radius,
                        y: center.y - radius
                    };
                    
                    circleHover.setAttribute('style', 'transform: translate(' + 
                                  circleCenter.x + 'px, ' + 
                                  circleCenter.y + 'px)');
                    
                    polyPoints.forEach(function(point, i) {
                        // Swap if to invert the effect.
                        if (detectPointInCircle(point, radius, center)) {
                            polyArray[i].classList.remove('fade');
                            polyArray[i].style.stroke = randomRgb(100);
                            polyArray[i].style.fill = randomRgb(50);
                        } else {
                            polyArray[i].classList.add('fade');
                        }
                    });
                }); 
            };
            draw();
            
            //Checks if polygons are under circle
            function detectPointInCircle(point, radius, center) {
              var xp = point.x;
              var yp = point.y;
              var xc = center.x;
              var yc = center.y;
              var d = radius * radius;
              var isInside = Math.pow(xp - xc, 2) + Math.pow(yp - yc, 2) <= d;
              return isInside;
            };
            
            function randomColor(min){
                let color = Math.floor(Math.random() * (255));
                if (color < min)
                    color = min;
                return color;
            };
            
            //Instead of having all polygons to show up with a single fill color until hovered over, randomize all of their colors.
            function randomizeFillColor(polyPoints, polyArray){
                polyPoints.forEach(function(point, i){
                    polyArray[i].style.fill = "rgb(" + randomColor(100) + "," + randomColor(100) + "," + randomColor(100) + ")";    
                });
            };
            
            function randomRgba(min, alpha){
                return "rgba(" + randomColor(min) + "," + randomColor(min) + "," + randomColor(min) + "," + alpha + ")";
            };
            
            function randomRgb(min){
                return "rgb(" + randomColor(min) + "," + randomColor(min) + "," + randomColor(min) + ")";
            }
            
            //Add random linear gradient to angled nav bars.
            function ItemColors(min, alpha){
                targets = document.getElementsByClassName('nav');
                for(let i = 0; i < targets.length; i++){
                    targets[i].style.background = "linear-gradient(to right, " + randomRgba(min, alpha) + " , " + randomRgba(min, alpha) + " , " + randomRgba(min, alpha) + ")";
                }
            };
            
            //Wraps letters in spans and apply randomized colors.
            function letterings(text){
                let fancyText = "";
                for(let i = 0; i < text.innerHTML.length; i++){
                    fancyText += "<span>" + text.innerHTML.charAt(i) + "</span>";
                }
                text.innerHTML = fancyText;
                lettersResize(text.getElementsByTagName('span'));
                window.addEventListener('resize', function(){
                    lettersResize(text.getElementsByTagName('span'));
                });
            };
            letterings(document.getElementById('name'));
            
            //Makes all letters a bit different in font sizes, when still easily fitting most screens.
            function lettersResize(targets){
                    for(let i = 0; i < targets.length; i++){
                        targets[i].style.color = randomRgb(100);
                        targets[i].style.fontSize = 10 + (Math.random() * 5) + "vw";
                    }
                
            }
            
        </script>
	</body>
</html>